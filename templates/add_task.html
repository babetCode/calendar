<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add a Task</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            max-width: 600px; 
            margin: 0 auto; 
        }
        .form-group { 
            margin-bottom: 15px; 
        }
        label { 
            display: block; 
            margin-bottom: 5px; 
            font-weight: bold; 
        }
        input[type="text"], input[type="number"], input[type="date"], textarea { 
            width: 100%; 
            max-width: 300px; 
            padding: 8px; 
            border: 1px solid #ddd; 
            border-radius: 4px; 
        }
        input[type="checkbox"] { 
            margin-right: 5px; 
        }
        button { 
            background-color: #4CAF50; 
            color: white; 
            padding: 10px 20px; 
            border: none; 
            border-radius: 4px; 
            cursor: pointer; 
        }
        button:hover { 
            background-color: #45a049; 
        }
        .message { 
            padding: 10px; 
            margin-bottom: 15px; 
            border-radius: 4px; 
        }
        .success { 
            background-color: #d4edda; 
            color: #155724; 
        }
        .error { 
            background-color: #f8d7da; 
            color: #721c24; 
        }
        ul { 
            list-style-type: none; 
            padding: 0; 
        }
        li { 
            background-color: #f9f9f9; 
            padding: 10px; 
            margin-bottom: 5px; 
            border-radius: 4px; 
        }
    </style>
</head>
<body>
    <h1>Add a Task</h1>

    <!-- Display flash messages (success/error) -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="message {{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <!-- Task Form -->
    <form method="POST">
        <div class="form-group">
            <label for="name">Task Name:</label>
            <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
            <label for="duration_min">Duration (minutes):</label>
            <input type="number" id="duration_min" name="duration_min" min="1" required>
        </div>
        <div class="form-group">
            <label for="split_up">Split Up?</label>
            <input type="checkbox" id="split_up" name="split_up">
        </div>
        <div class="form-group">
            <label for="due_date">Due Date (YYYY-MM-DD):</label>
            <input type="date" id="due_date" name="due_date">
        </div>
        <div class="form-group">
            <label for="schedule_after">Schedule After (YYYY-MM-DD):</label>
            <input type="date" id="schedule_after" name="schedule_after">
        </div>
        <div class="form-group">
            <label for="priority">Priority:</label>
            <input type="text" id="priority" name="priority">
        </div>
        <div class="form-group">
            <label for="placement">Placement:</label>
            <input type="text" id="placement" name="placement">
        </div>
        <div class="form-group">
            <label for="notes">Notes:</label>
            <textarea id="notes" name="notes" rows="4"></textarea>
        </div>
        <button type="submit">Add Task</button>
    </form>

    <!-- Display list of tasks -->
    <h2>Tasks</h2>
    {% if tasks %}
        <ul>
        {% for task in tasks %}
            <li>{{ task }}</li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No tasks yet.</p>
    {% endif %}
</body>
</html>
